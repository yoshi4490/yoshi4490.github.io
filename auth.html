<!doctype html><html lang="ja"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>ログイン｜経理ラボベース</title>
<link rel="icon" href="assets/logo.svg" type="image/svg+xml">
<style>
:root{--ink:#0f172a;--muted:#64748b;--bg:#f6fbff;--panel:#fff;--border:#e2e8f0;--brand:#12b4a6;--shadow:0 10px 30px rgba(17,24,39,.08)}
*{box-sizing:border-box}body{margin:0;font-family:system-ui,'Noto Sans JP',sans-serif;background:linear-gradient(180deg,#f6fbff 0%,#fbfeff 100%);color:var(--ink)}
.wrap{max-width:420px;margin:40px auto;padding:18px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:16px}
label{display:block;font-size:12px;color:#334155;margin-bottom:6px}
input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;font-size:14px;background:#fff}
.btn{width:100%;padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:#12b4a6;color:#fff;cursor:pointer;margin-top:10px}
.small{font-size:12px;color:var(--muted)}
</style></head><body>
<div class="wrap">
  <div style="text-align:center;margin-bottom:12px;"><img src="assets/logo.svg" width="40" height="40"><div style="font-weight:800;">経理ラボベース</div></div>
  <div class="card">
    <h2 style="margin:6px 0 10px;">ログイン / 新規登録</h2>
    <label>メール</label><input id="email" type="email" placeholder="you@example.com">
    <label style="margin-top:8px;">パスワード</label><input id="password" type="password" placeholder="8文字以上">
    <button class="btn" id="signup">新規登録</button>
    <button class="btn" id="signin" style="background:#2f7bdc;">ログイン</button>
    <div id="msg" class="small" style="margin-top:8px;"></div>
    <div class="small" style="margin-top:8px;"><a href="app.html">学習へ</a></div>
  </div>
</div>
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
import { SUPABASE_URL, SUPABASE_ANON_KEY } from "./config.js";
const supa = createClient(SUPABASE_URL, SUPABASE_ANON_KEY, { auth:{ persistSession:true } });
const $=id=>document.getElementById(id);
$('signup').onclick=async()=>{
  $('msg').textContent='登録中…';
  const { error } = await supa.auth.signUp({ email:$('email').value, password:$('password').value });
  $('msg').textContent = error ? 'エラー: '+error.message : '登録しました。メール確認後ログインしてください。';
};
$('signin').onclick=async()=>{
  $('msg').textContent='ログイン中…';
  const { error } = await supa.auth.signInWithPassword({ email:$('email').value, password:$('password').value });
  $('msg').textContent = error ? 'エラー: '+error.message : 'OK！ 学習へ移動します…';
  if(!error) setTimeout(()=> location.href='app.html', 800);
};
</script></body></html>

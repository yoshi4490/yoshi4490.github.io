<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>çµŒç†å®Ÿå‹™ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ - Freeeé¢¨ã‚¹ã‚¿ã‚¤ãƒ«</title>
  <style>
    :root{
      --ink:#0f172a;
      --muted:#64748b;
      --bg:#f6f9fb;
      --panel:#ffffff;
      --border:#e2e8f0;
      --brand:#12b4a6;      /* ã‚¢ã‚¯ã‚¢ç³»ï¼ˆfreeeé¢¨ã®çˆ½ã‚„ã‹ãƒˆãƒ¼ãƒ³ï¼‰ */
      --brand-ink:#0a5e57;
      --brand-weak:#e6f7f5;
      --accent:#2563eb;
      --danger:#dc2626;
      --ok:#059669;
      --shadow: 0 8px 20px rgba(2, 80, 70, .06);
      --radius: 14px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,'Noto Sans JP','Hiragino Kaku Gothic ProN','Yu Gothic',Meiryo,sans-serif;
      color:var(--ink);
      background: var(--bg);
    }
    .layout{ display:grid; grid-template-columns: 260px 1fr; grid-template-rows: 64px 1fr; height:100%; }
    .topbar{
      grid-column: 1 / span 2;
      height:64px; background:var(--panel); border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; padding:0 18px;
      position:sticky; top:0; z-index:5;
    }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:700; }
    .logo{
      width:28px; height:28px; border-radius:8px; background:linear-gradient(135deg, var(--brand), #7de3d7);
      box-shadow: var(--shadow);
    }
    .top-actions{ display:flex; gap:8px; align-items:center; }
    .btn{
      border:1px solid var(--border); background:white; padding:8px 12px; border-radius:12px; cursor:pointer; font-size:13px;
    }
    .btn.primary{ background:var(--brand); border-color:transparent; color:white; }
    .btn.ghost{ background:white; }
    .search{ display:flex; align-items:center; gap:8px; background:#f1f5f9; border:1px solid var(--border); padding:8px 10px; border-radius:12px; }
    .search input{ border:none; outline:none; background:transparent; width:240px; font-size:13px; }
    .sidebar{
      grid-row: 2; background:var(--panel); border-right:1px solid var(--border); padding:14px; position:sticky; top:64px; height:calc(100vh - 64px); overflow:auto;
    }
    .side-section{ margin-bottom:16px; }
    .side-title{ color:var(--muted); font-size:12px; margin:8px 10px; }
    .nav{ display:grid; gap:4px; }
    .nav a{
      display:flex; gap:10px; align-items:center; padding:10px 12px; border-radius:10px; color:#0f172a; text-decoration:none;
    }
    .nav a.active, .nav a:hover{ background:var(--brand-weak); color:var(--brand-ink); }
    .chip{ font-size:11px; color:var(--brand-ink); background:var(--brand-weak); padding:2px 8px; border-radius:999px; border:1px solid #d9f2ef; }
    .content{ grid-row:2; padding:18px; overflow:auto; }
    .page{ max-width:1100px; margin:0 auto; display:none; }
    .page.active{ display:block; animation:fade .15s ease-in; }
    @keyframes fade{ from{opacity:.6; transform:translateY(2px);} to{opacity:1; transform:none;} }
    .card{ background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); box-shadow: var(--shadow); }
    .card .head{ padding:14px 16px; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; }
    .card .body{ padding:16px; }
    .muted{ color:var(--muted); }
    .kpis{ display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
    .kpi{ padding:14px; }
    .kpi .label{ font-size:12px; color:var(--muted); }
    .kpi .value{ font-weight:700; font-size:20px; }
    .grid{ display:grid; gap:12px; }
    .two{ grid-template-columns: 1fr 1fr; }
    .table{ width:100%; border-collapse:collapse; }
    .table th, .table td{ padding:10px 8px; border-bottom:1px solid var(--border); text-align:left; font-size:13px; }
    .table th{ color:var(--muted); font-weight:600; }
    label{ display:block; font-size:12px; color:#334155; margin-bottom:6px; }
    input, select, textarea{
      width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; font-size:13px; background:white; outline:none;
    }
    textarea{ resize:vertical; }
    .row{ display:flex; gap:10px; align-items:center; }
    .ok{ color:var(--ok); font-weight:600; }
    .ng{ color:var(--danger); font-weight:600; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, 'Courier New', monospace; }
    .badge{ font-size:11px; padding:3px 8px; border-radius:999px; background:var(--brand-weak); color:var(--brand-ink); border:1px solid #d9f2ef; }
    .note{ background:#fff7ed; border:1px solid #fed7aa; color:#9a3412; padding:10px; border-radius:10px; font-size:12px; }
  </style>
</head>
<body>
  <div class="layout">
    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div>çµŒç†å®Ÿå‹™ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</div>
        <span class="chip">beta</span>
      </div>
      <div class="top-actions">
        <div class="search">
          <svg width="16" height="16" viewBox="0 0 20 20" fill="none"><circle cx="9" cy="9" r="7" stroke="#64748b" stroke-width="1.5"/><path d="M14 14l4 4" stroke="#64748b" stroke-width="1.5" stroke-linecap="round"/></svg>
          <input placeholder="å–å¼•å…ˆãƒ»å‹˜å®šç§‘ç›®ãƒ»ä¼ç¥¨ç•ªå·ã§æ¤œç´¢"/>
        </div>
        <button class="btn">ãƒ˜ãƒ«ãƒ—</button>
        <button class="btn primary" onclick="alert('ã“ã®ç‰ˆã¯ãƒ‡ãƒ¢ã§ã™ã€‚')">æ–°è¦ä¼ç¥¨</button>
      </div>
    </div>

    <aside class="sidebar">
      <div class="side-section">
        <div class="side-title">ãƒ¡ã‚¤ãƒ³</div>
        <div class="nav">
          <a href="#dash" data-page="dash" class="active">ğŸ  ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
          <a href="#sales" data-page="sales">ğŸ§¾ è«‹æ±‚ãƒ»å£²ä¸Š</a>
          <a href="#receipt" data-page="receipt">ğŸ’° å…¥é‡‘æ¶ˆè¾¼</a>
          <a href="#expense" data-page="expense">ğŸ§¾ çµŒè²»ç²¾ç®—</a>
          <a href="#journal" data-page="journal">ğŸ“’ æŒ¯æ›¿ä¼ç¥¨</a>
          <a href="#close" data-page="close">ğŸ“Š æœˆæ¬¡æ±ºç®—</a>
          <a href="#report" data-page="report">ğŸ“ˆ å­¦ç¿’ãƒ¬ãƒãƒ¼ãƒˆ</a>
        </div>
      </div>
      <div class="side-section">
        <div class="side-title">ã‚¯ã‚¤ãƒƒã‚¯</div>
        <div class="nav">
          <a href="#help" data-page="help">â“ ãƒ˜ãƒ«ãƒ—ï¼ä½¿ã„æ–¹</a>
        </div>
      </div>
    </aside>

    <main class="content">
      <!-- Dashboard -->
      <section id="dash" class="page active">
        <div class="grid kpis">
          <div class="card kpi"><div class="label">æœªå‡¦ç†ä¼ç¥¨</div><div class="value">3</div></div>
          <div class="card kpi"><div class="label">æ¶ˆè¾¼å¾…ã¡</div><div class="value">1</div></div>
          <div class="card kpi"><div class="label">æœˆæ¬¡ç· ã‚é€²æ—</div><div class="value">40%</div></div>
          <div class="card kpi"><div class="label">ç·åˆã‚¹ã‚³ã‚¢</div><div class="value mono" id="score_total">0%</div></div>
        </div>
        <div class="grid two" style="margin-top:12px;">
          <div class="card">
            <div class="head"><div>æœ€è¿‘ã®å–å¼•</div><span class="badge">ãƒ‡ãƒ¢</span></div>
            <div class="body">
              <table class="table">
                <thead><tr><th>æ—¥ä»˜</th><th>å†…å®¹</th><th>é‡‘é¡</th><th>çŠ¶æ…‹</th></tr></thead>
                <tbody>
                  <tr><td>4/30</td><td>å–å¼•å…ˆA è«‹æ±‚æ›¸</td><td class="mono">110,000</td><td><span class="badge">è¨ˆä¸Šæ¸ˆ</span></td></tr>
                  <tr><td>5/31</td><td>å–å¼•å…ˆA å…¥é‡‘</td><td class="mono">110,000</td><td><span class="badge">æ¶ˆè¾¼æ¸ˆ</span></td></tr>
                  <tr><td>4/30</td><td>é€šä¿¡è²»ï¼ˆ4æœˆåˆ†ï¼‰</td><td class="mono">22,000</td><td><span class="badge">æœªæ‰•è¨ˆä¸Š</span></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card">
            <div class="head"><div>ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</div></div>
            <div class="body">
              <div class="row" style="gap:8px; flex-wrap:wrap;">
                <button class="btn" onclick="nav('sales')">å£²ä¸Šè¨ˆä¸Š</button>
                <button class="btn" onclick="nav('receipt')">å…¥é‡‘æ¶ˆè¾¼</button>
                <button class="btn" onclick="nav('expense')">çµŒè²»ç²¾ç®—</button>
                <button class="btn" onclick="nav('close')">æœˆæ¬¡ç· ã‚</button>
              </div>
              <div class="note" style="margin-top:12px;">â€» ã“ã®ãƒ‡ãƒ¢ã¯ã€Œfreeeé¢¨ã€ã®UIã‚’å‚è€ƒã«ã—ãŸã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Sales / Invoice -->
      <section id="sales" class="page">
        <div class="card">
          <div class="head"><div>è«‹æ±‚ãƒ»å£²ä¸Šã®è¨ˆä¸Š</div><button class="btn primary" onclick="gradeInvoice()">æ¡ç‚¹</button></div>
          <div class="body grid two">
            <div>
              <label>å€Ÿæ–¹ç§‘ç›®</label>
              <select id="inv_d_k"><option>å£²æ›é‡‘</option><option>å½“åº§é é‡‘</option><option>ç¾é‡‘</option></select>
              <label style="margin-top:8px;">å€Ÿæ–¹é‡‘é¡</label>
              <input id="inv_d_a" placeholder="110000">
            </div>
            <div>
              <div class="grid two">
                <div>
                  <label>è²¸æ–¹ç§‘ç›®ï¼ˆ1ï¼‰</label>
                  <select id="inv_c1_k"><option>å£²ä¸Šé«˜</option><option>ä»®å—æ¶ˆè²»ç¨</option><option>å‰å—é‡‘</option></select>
                </div>
                <div>
                  <label>è²¸æ–¹é‡‘é¡ï¼ˆ1ï¼‰</label><input id="inv_c1_a" placeholder="100000">
                </div>
                <div>
                  <label>è²¸æ–¹ç§‘ç›®ï¼ˆ2 ä»»æ„ï¼‰</label>
                  <select id="inv_c2_k"><option>ï¼ˆãªã—ï¼‰</option><option>ä»®å—æ¶ˆè²»ç¨</option><option>å£²ä¸Šé«˜</option></select>
                </div>
                <div>
                  <label>è²¸æ–¹é‡‘é¡ï¼ˆ2 ä»»æ„ï¼‰</label><input id="inv_c2_a" placeholder="10000">
                </div>
              </div>
            </div>
            <div class="row" style="grid-column: 1 / -1; justify-content: space-between;">
              <div id="inv_msg" class="muted"></div>
              <div class="row muted"><div>ä¼ç¥¨ç•ªå·</div><div class="mono">SL-2404-001</div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Receipt -->
      <section id="receipt" class="page">
        <div class="card">
          <div class="head"><div>å…¥é‡‘ã®æ¶ˆè¾¼</div><button class="btn primary" onclick="gradeReceipt()">æ¡ç‚¹</button></div>
          <div class="body grid two">
            <div>
              <label>å€Ÿæ–¹ç§‘ç›®</label>
              <select id="rcv_d_k"><option>å½“åº§é é‡‘</option><option>æ™®é€šé é‡‘</option><option>ç¾é‡‘</option></select>
              <label style="margin-top:8px;">å€Ÿæ–¹é‡‘é¡</label>
              <input id="rcv_d_a" placeholder="110000">
            </div>
            <div>
              <label>è²¸æ–¹ç§‘ç›®</label>
              <select id="rcv_c_k"><option>å£²æ›é‡‘</option><option>å£²ä¸Šé«˜</option><option>å‰å—é‡‘</option></select>
              <label style="margin-top:8px;">è²¸æ–¹é‡‘é¡</label>
              <input id="rcv_c_a" placeholder="110000">
            </div>
            <div class="row" style="grid-column: 1 / -1; justify-content: space-between;">
              <div id="rcv_msg" class="muted"></div>
              <div class="row muted"><div>å…¥é‡‘æ—¥</div><div class="mono">2025-05-31</div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Expense -->
      <section id="expense" class="page">
        <div class="card">
          <div class="head"><div>çµŒè²»ç²¾ç®—ï¼ˆæœªæ‰•è¨ˆä¸Šï¼‰</div><button class="btn primary" onclick="gradeExpense()">æ¡ç‚¹</button></div>
          <div class="body grid two">
            <div>
              <label>å€Ÿæ–¹ç§‘ç›®</label>
              <select id="exp_d_k"><option>é€šä¿¡è²»</option><option>æ°´é“å…‰ç†±è²»</option><option>æ—…è²»äº¤é€šè²»</option></select>
              <label style="margin-top:8px;">å€Ÿæ–¹é‡‘é¡</label>
              <input id="exp_d_a" placeholder="22000">
            </div>
            <div>
              <label>è²¸æ–¹ç§‘ç›®</label>
              <select id="exp_c_k"><option>æœªæ‰•è²»ç”¨</option><option>æœªæ‰•é‡‘</option><option>è²·æ›é‡‘</option></select>
              <label style="margin-top:8px;">è²¸æ–¹é‡‘é¡</label>
              <input id="exp_c_a" placeholder="22000">
            </div>
            <div class="row" style="grid-column: 1 / -1; justify-content: space-between;">
              <div id="exp_msg" class="muted"></div>
              <div class="row muted"><div>å¯¾è±¡æœˆ</div><div class="mono">2025-04</div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Journal -->
      <section id="journal" class="page">
        <div class="card">
          <div class="head"><div>æŒ¯æ›¿ä¼ç¥¨ä½œæˆ</div><button class="btn">ãƒ†ãƒ³ãƒ—ãƒ¬ã‹ã‚‰ä½œæˆ</button></div>
          <div class="body">
            <table class="table">
              <thead><tr><th>å€Ÿæ–¹ç§‘ç›®</th><th>é‡‘é¡</th><th>è²¸æ–¹ç§‘ç›®</th><th>é‡‘é¡</th><th>æ‘˜è¦</th></tr></thead>
              <tbody>
                <tr>
                  <td><input placeholder="é€šä¿¡è²»"></td>
                  <td><input placeholder="22000"></td>
                  <td><input placeholder="æœªæ‰•è²»ç”¨"></td>
                  <td><input placeholder="22000"></td>
                  <td><input placeholder="4æœˆåˆ†é€šä¿¡è²»ã®æœªæ‰•è¨ˆä¸Š"></td>
                </tr>
              </tbody>
            </table>
            <div class="row" style="margin-top:10px; justify-content:flex-end;">
              <button class="btn primary" onclick="alert('ãƒ‡ãƒ¢ã§ã¯ä¿å­˜ã—ã¾ã›ã‚“')">ä¿å­˜</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Monthly Close -->
      <section id="close" class="page">
        <div class="card">
          <div class="head"><div>æœˆæ¬¡æ±ºç®—ï¼ˆ4æœˆï¼‰</div><button class="btn primary" onclick="gradeMonthly()">è©¦ç®—è¡¨ãƒã‚§ãƒƒã‚¯</button></div>
          <div class="body grid">
            <div class="two">
              <div>
                <label>ä»•è¨³ï¼ˆ1è¡Œãšã¤ï¼‰</label>
                <textarea id="monthly_journal" rows="6" placeholder="ï¼ˆ1ï¼‰å£²æ›é‡‘ 110,000 / å£²ä¸Šé«˜ 100,000, ä»®å—æ¶ˆè²»ç¨ 10,000
ï¼ˆ2ï¼‰é€šä¿¡è²» 22,000 / æœªæ‰•è²»ç”¨ 22,000"></textarea>
                <div class="note" style="margin-top:10px;">â€» æœ¬å®Ÿè£…ã§ã¯ç¨åŒºåˆ†ã‚„æ‰¿èªãƒ•ãƒ­ãƒ¼ã¾ã§æ¤œè¨¼äºˆå®š</div>
              </div>
              <div>
                <div class="card">
                  <div class="head"><div>ãƒã‚§ãƒƒã‚¯çµæœ</div></div>
                  <div class="body" id="monthly_result">æœªãƒã‚§ãƒƒã‚¯</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Report -->
      <section id="report" class="page">
        <div class="card">
          <div class="head"><div>å­¦ç¿’ãƒ¬ãƒãƒ¼ãƒˆ</div></div>
          <div class="body grid two">
            <div>
              <table class="table">
                <thead><tr><th>ã‚«ãƒ†ã‚´ãƒª</th><th>æ­£ç­”æ•°</th></tr></thead>
                <tbody>
                  <tr><td>æ—¥å¸¸æ¥­å‹™</td><td class="mono" id="score_daily">0/3</td></tr>
                  <tr><td>æœˆæ¬¡æ±ºç®—</td><td class="mono" id="score_monthly">0/2</td></tr>
                </tbody>
              </table>
            </div>
            <div>
              <div class="kpi card">
                <div class="label">ç·åˆã‚¹ã‚³ã‚¢</div>
                <div class="value mono" id="score_total2">0%</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Help -->
      <section id="help" class="page">
        <div class="card">
          <div class="head"><div>ãƒ˜ãƒ«ãƒ— / ä½¿ã„æ–¹</div></div>
          <div class="body">
            <p class="muted">ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®é …ç›®ã‚’é †ã«é€²ã‚ã‚Œã°ã€ã€Œfreeeé¢¨ã€ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ç·´ç¿’ã§ãã¾ã™ã€‚å®Ÿè£…ã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã§ã‚ã‚Šã€ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ç”»é¢ã‚’å†ç¾ã—ãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
          </div>
        </div>
      </section>

    </main>
  </div>

<script>
  // Navigation
  document.querySelectorAll('.nav a').forEach(a=>{
    a.addEventListener('click', (e)=>{
      e.preventDefault();
      const id = a.dataset.page;
      nav(id);
    });
  });
  function nav(id){
    document.querySelectorAll('.nav a').forEach(x=>x.classList.remove('active'));
    document.querySelector('.nav a[data-page="'+id+'"]').classList.add('active');
    document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    localStorage.setItem('active_page', id);
  }
  (function(){ const s = localStorage.getItem('active_page'); if(s) nav(s); })();

  // Grading logic
  function set(el,msg,ok){ el.innerHTML = ok ? `<span class='ok'>âœ” ${msg}</span>` : `<span class='ng'>âœ– ${msg}</span>`; }
  function gradeInvoice(){
    const ok = document.getElementById('inv_d_k').value==='å£²æ›é‡‘' &&
      Number(document.getElementById('inv_d_a').value)===110000 &&
      ((document.getElementById('inv_c1_k').value==='å£²ä¸Šé«˜' && Number(document.getElementById('inv_c1_a').value)===100000 &&
        document.getElementById('inv_c2_k').value==='ä»®å—æ¶ˆè²»ç¨' && Number(document.getElementById('inv_c2_a').value||0)===10000) ||
       (document.getElementById('inv_c1_k').value==='å£²ä¸Šé«˜' && Number(document.getElementById('inv_c1_a').value)===110000 && document.getElementById('inv_c2_k').value==='ï¼ˆãªã—ï¼‰'));
    const el = document.getElementById('inv_msg');
    set(el, ok ? 'æ­£è§£ï¼šå£²æ›é‡‘ 110,000 / å£²ä¸Šé«˜ 100,000, ä»®å—æ¶ˆè²»ç¨ 10,000ï¼ˆå†…ç¨ã‚‚å¯ï¼‰' : 'ä¸æ­£è§£ï¼šåŸºæœ¬ã¯å£²æ›é‡‘ 110,000 / å£²ä¸Šé«˜ 100,000, ä»®å—æ¶ˆè²»ç¨ 10,000ï¼ˆå†…ç¨ã§ã‚‚å¯ï¼‰', ok);
    scoreUpdate('daily', ok);
  }
  function gradeReceipt(){
    const ok = ['å½“åº§é é‡‘','æ™®é€šé é‡‘','ç¾é‡‘'].includes(document.getElementById('rcv_d_k').value) &&
      Number(document.getElementById('rcv_d_a').value)===110000 &&
      document.getElementById('rcv_c_k').value==='å£²æ›é‡‘' &&
      Number(document.getElementById('rcv_c_a').value)===110000;
    const el = document.getElementById('rcv_msg');
    set(el, ok ? 'æ­£è§£ï¼šå½“åº§/æ™®é€š/ç¾é‡‘ 110,000 / å£²æ›é‡‘ 110,000' : 'ä¸æ­£è§£ï¼šå…¥é‡‘ã¯å½“åº§/æ™®é€š/ç¾é‡‘ã€æ¶ˆè¾¼ã¯å£²æ›é‡‘ã€‚é‡‘é¡110,000', ok);
    scoreUpdate('daily', ok);
  }
  function gradeExpense(){
    const ok = document.getElementById('exp_d_k').value==='é€šä¿¡è²»' &&
      document.getElementById('exp_c_k').value==='æœªæ‰•è²»ç”¨' &&
      Number(document.getElementById('exp_d_a').value)===22000 &&
      Number(document.getElementById('exp_c_a').value)===22000;
    const el = document.getElementById('exp_msg');
    set(el, ok ? 'æ­£è§£ï¼šé€šä¿¡è²» 22,000 / æœªæ‰•è²»ç”¨ 22,000' : 'ä¸æ­£è§£ï¼š4æœˆåˆ†ã¯æœªæ‰•è¨ˆä¸Šï¼ˆé€šä¿¡è²» / æœªæ‰•è²»ç”¨ 22,000ï¼‰', ok);
    scoreUpdate('daily', ok);
  }
  function gradeMonthly(){
    const text = document.getElementById('monthly_journal').value;
    const ok1 = /å£²æ›é‡‘/.test(text) && /110,?000/.test(text) && /å£²ä¸Šé«˜/.test(text);
    const ok2 = /é€šä¿¡è²»/.test(text) && /22,?000/.test(text) && /(æœªæ‰•è²»ç”¨|æœªæ‰•é‡‘)/.test(text);
    const box = document.getElementById('monthly_result');
    box.innerHTML = `<div>${ok1?'âœ”':'âœ–'} å£²æ›è¨ˆä¸Šï¼ˆå£²æ›é‡‘ / å£²ä¸Šé«˜ + ä»®å—æ¶ˆè²»ç¨ï¼‰</div>
                     <div>${ok2?'âœ”':'âœ–'} æœªæ‰•è¨ˆä¸Šï¼ˆé€šä¿¡è²» / æœªæ‰•è²»ç”¨ 22,000ï¼‰</div>`;
    scoreUpdate('monthly', ok1 && ok2);
  }

  // Simple score tracker
  function scoreUpdate(section, ok){
    const s = JSON.parse(localStorage.getItem('score')||'{"daily":0,"monthly":0,"total":0}');
    if(section==='daily'){ s.daily = Math.min(3, s.daily + (ok?1:0)); }
    if(section==='monthly'){ s.monthly = Math.min(2, s.monthly + (ok?1:0)); }
    const total = Math.round(((s.daily/3)*0.6 + (s.monthly/2)*0.4) * 100);
    s.total = total;
    localStorage.setItem('score', JSON.stringify(s));
    // reflect UI
    document.getElementById('score_total').textContent = total+'%';
    document.getElementById('score_daily').textContent = s.daily+'/3';
    document.getElementById('score_monthly').textContent = s.monthly+'/2';
    document.getElementById('score_total2').textContent = total+'%';
  }
  (function(){ // restore score
    const s = JSON.parse(localStorage.getItem('score')||'{"daily":0,"monthly":0,"total":0}');
    document.getElementById('score_total').textContent = s.total+'%';
    document.getElementById('score_daily').textContent = s.daily+'/3';
    document.getElementById('score_monthly').textContent = s.monthly+'/2';
    document.getElementById('score_total2').textContent = s.total+'%';
  })();
</script>
</body>
</html>
